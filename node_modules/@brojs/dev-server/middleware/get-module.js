import getModuleUrl from '../utils/get-module-url.js';

const getModule = (req, res) => {
    let path

    if(req.params[0] === 'fire.app') {
        path = getModuleUrl('@brojs/fire.app', req.params[1], req.params[2]);
    } else if (req.params[0] === 'ui') {
        path = getModuleUrl('@brojs/ui/dist', req.params[1], req.params[2]);
    } else {
        path = getModuleUrl(req.params[0], req.params[1], req.params[2]);
    }

    if (path) {
        res.sendFile(path);
    } else {
        res.status(404).send(`module ${req.params[0]} not found`);
    }
}

export default getModule;

import fs from 'fs';
import path from 'path';

import glob from 'glob';

const aply = (hbs, rootDir) => {
    glob
        .sync(`${rootDir}/**/*`, {
            nodir: true
        })
        .forEach((m) => {
            const partialName = path.relative(rootDir, m).split(path.sep).join('/')
            hbs.registerPartial(partialName, fs.readFileSync(m, 'utf8'))
        })
}

export default aply
